# hiro-san-z-reco
# 山行記録サイト構築プロジェクト（継続フェーズ）

## 概要
本リポジトリは、個人用「山行記録サイト」の構築および育成を目的としたプロジェクトである。  
本プロジェクトは **前プロジェクト（山行記録サイト構築）を正式に引き継ぎ**、設計思想・構成・成果物を前提条件として継続的に改善・発展させていくフェーズに位置づける。

---

## プロジェクトの位置づけ

### フェーズ区分
- **前プロジェクト**：  
  山行記録サイトの基本設計・骨格構築  
- **本プロジェクト（現行）**：  
  構築済みサイトを「育てる」フェーズ  
  - 表示改善
  - データ増加への対応
  - 更新作業の省力化
  - 長期運用を見据えた整理・拡張

---

## 前プロジェクトからの引き継ぎ方針

以下は **既知・確定事項** として扱い、原則として否定・破壊せずに活用する。

### 1. サイトの目的
- 山行記録の蓄積・整理・検索
- Blogger を用いた山行記事の公開・再利用
- 個人サイトとしての長期運用

### 2. 技術構成
- 静的サイト（HTML / CSS / JavaScript）を基本とする
- Blogger は記事生成・更新の基盤として利用
- RSS / JSON 等による外部連携
- 手動更新を極力減らす設計（CSV・テンプレート化）

### 3. 設計思想
- 記録件数の増加を前提とする
- 表示・検索・分類の拡張余地を確保
- 「作って終わり」ではなく、継続的に育てる

---

## 既存成果物（存在前提）

以下は前プロジェクトで作成済み、または導入済みのものとして扱う。

- ディレクトリ構成  
  - `/record/`
    - `index.html`
    - `year.html`
    - `area.html`
    - `genre.html`
  - `/other.html`
- 山行カード用 HTML 構造
- Blogger RSS 取得スクリプト  
  - `blogfeed.js`
- Blogger テーマ HTML 編集による CSS 追加・調整

※ 内容の修正や再設計は「必要になった段階」で検討する

---

## 本プロジェクトの主眼

- 見やすさ・導線の改善
- スマートフォン表示の最適化
- 山行記録が増えても破綻しない構造
- 更新作業の効率化・ミス削減
- 将来的な機能追加（検索・絞り込み等）への備え

---

## 今後の進め方（想定）

1. 現状構成のスナップショット整理
2. 改善テーマの洗い出し
3. 優先度を付けた段階的改善
4. 必要に応じて設計の微調整

---

## 備考
本 README は「設計思想・引き継ぎ条件の記録」を主目的とする。  
実装手順や細かな技術メモは、別途ドキュメント化する。
2025-12-26

## メンテナンス履歴
- 2025-12-27  
  未使用となっていた JS/script.js を _archive に退避。  
  research.html research.css research.js を search.html search.css search.js にリネーム
## search ページの位置づけ

search ページは、山行記録を
「探す・眺める・再発見する」ための横断的ビューとして位置づける。

records ページ群が
年・地域・ジャンルといった固定軸で整理された
正規アーカイブであるのに対し、
search ページは records.json を基点に、
条件や視点を自由に横断できる動的な閲覧ページとする。

本ページは試作・実験用ではなく、
将来的な検索・絞り込み・並び替え機能の拡張を前提とした
正式機能として扱う。


---
## メンテナンス履歴
- 2025-12-28
## 🔍 検索ページ（search）の機能拡張について

### 概要

`search.html` は、本サイトに蓄積された山行記録（`records.json`）を
**複数条件で横断的に検索・一覧表示するための専用ページ**である。

従来の「年・山域・ジャンルによる絞り込み」に加え、
**キーワード検索機能（title + summary 対応）**を追加し、
記録内容そのものから目的の山行を探せるようにした。

---

### search ページでできること

* 山行記録を以下の条件で絞り込み

  * 年
  * 山域
  * ジャンル
  * **キーワード（タイトル・要約文）**
* 並び替え

  * 日付（新しい順 / 古い順）
  * タイトル（昇順 / 降順）
* ページング（表示件数指定・ページ移動）
* 各記録カードから元記事（Yamareco 等）を直接開く

---

### キーワード検索仕様

* 検索対象フィールド

  * `records.json` 内の

    * `title`
    * `summary`
* 検索方法

  * 半角スペース区切りによる **AND 検索**
  * 部分一致
  * 大文字・小文字を区別しない
* 他のフィルタ（年・山域・ジャンル）と併用可能

例：

```
穂高 雪
```

→ title または summary に「穂高」「雪」の両方を含む記録のみ表示

---

### 関連ファイル

| 種別   | ファイル                | 内容             |
| ---- | ------------------- | -------------- |
| HTML | `search.html`       | 検索ページ本体        |
| CSS  | `CSS/search.css`    | 検索ページ専用スタイル    |
| JS   | `JS/search.js`      | 検索・フィルタ・描画ロジック |
| Data | `data/records.json` | 山行記録データ（検索対象）  |

---

### 設計方針・補足

* JavaScript のみで完結（サーバーサイド処理なし）
* GitHub Pages 上で動作することを前提
* フィルタ条件は **即時反映（再読み込み不要）**
* 将来的な拡張を想定

  * 検索語のハイライト表示
  * URL クエリへの検索条件保存
  * 地図プレビューとの連携

---

### 位置づけ

search ページは、

> **「山行記録を一覧として“読む”ためのページ」ではなく、
> 「自分の過去の山行を“探し出す”ためのデータベース UI」**

という位置づけで設計している。

了解しました。以下は **README.md にそのまま追記できる Markdown 文案**です。
設計判断の背景が後から見ても分かるよう、「結論 → 理由 → 影響範囲」の順で整理しています。

-## メンテナンス履歴
- 2025-12-29--

## 画面幅（レイアウト幅）の見直し

### 変更内容

* **全ページ共通の最大コンテンツ幅を `1200px` に変更**

### 背景・理由

* 従来の幅では、

  * 山行記録一覧
  * 検索結果（search ページ）
  * テキスト量の多い説明ページ
    において、横方向の余白が多く、情報密度が低く感じられた。
* 近年の一般的な PC ブラウザ環境では、表示幅は **1366px〜1920px** が主流であり、
  `1200px` は「可読性」と「情報量」のバランスが取りやすい実用的な幅である。
* 1行あたりの文字数が極端に長くなりすぎず、
  テキスト主体のページでも読みやすさを維持できる。

### 影響範囲

* search ページに限定せず、**全ページ共通レイアウト**に適用
* 対象例：

  * トップページ
  * 山行記録一覧／詳細ページ
  * search ページ
  * about / other / research 等の静的ページ

### 補足

* レスポンシブ対応（スマートフォン・タブレット）のブレークポイント設計は維持したまま、
  **PC 表示時の最大幅のみを調整**している。
* 今後、カード型 UI や一覧の多段表示を強化する場合にも拡張しやすい設定とした。

---

